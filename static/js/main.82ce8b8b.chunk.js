(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(42),c=n.n(o),i=n(2),s=n(3),l=n(5),u=n(4),d=n(6),m=n(11),g="".concat(6,"vw"),p="(100vh - ".concat("100vmin/6"," - ").concat("2rem",")"),f="(".concat(g,") * (").concat(3," + 1)"),b={TOWER_WIDTH:g,HEADER_HEIGHT:"100vmin/6",FOOTER_HEIGHT:"2rem",SETTING_HEIGHT:p,TOWER_HEIGHT:f,DISK_HEIGHT:"((".concat(f,") / 12)"),DISK_WIDTH_FACTOR:8,NUM_DISKS:3,MAX_TOTAL_DISKS:9},k="disk",v=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rank,n=e.connectDragSource,r=e.isDragging,o=r?"none":"block",c=r?.5:1,i="(".concat(b.TOWER_WIDTH," + ").concat(t*b.DISK_WIDTH_FACTOR,"vw)"),s="".concat(t*b.DISK_WIDTH_FACTOR/2,"vw"),l=200-t*(164/b.NUM_DISKS),u={display:o,opacity:c,height:"calc(\n        ".concat(b.DISK_HEIGHT," * ").concat(b.MAX_TOTAL_DISKS," / ").concat(b.NUM_DISKS,"\n      )"),width:"calc(".concat(i,")"),transform:"translateX(calc(-1 * (".concat(s,")))"),borderRadius:"calc((".concat(b.DISK_HEIGHT,") / 1.5)"),border:"1px solid black",boxShadow:"inset 0 0 2px 0 black",background:"rgb(244, ".concat(l,", 36)")};return n(a.a.createElement("div",{style:u,rank:t}))}}]),t}(r.Component),T=Object(m.DragSource)(k,{beginDrag:function(e){return{rank:e.rank}}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(v),D=function(e){var t=e.rank,n="(".concat(b.TOWER_WIDTH," + ").concat(t*b.DISK_WIDTH_FACTOR,"vw)"),r="".concat(t*b.DISK_WIDTH_FACTOR/2,"vw"),o=200-t*(164/b.NUM_DISKS),c={background:"rgb(244, ".concat(o,", 36)"),transform:"translateX(calc(-1 * (".concat(r,")))"),border:"1px solid black",borderRadius:"calc((".concat(b.DISK_HEIGHT,") / 1.5)"),height:"calc(\n        ".concat(b.DISK_HEIGHT," * ").concat(b.MAX_TOTAL_DISKS," / ").concat(b.NUM_DISKS,"\n      )"),width:"calc(".concat(n,")"),boxShadow:"inset 0 0 2px 0 black",opacity:"0.75"};return a.a.createElement("div",{style:c})},h={canDrop:function(e,t){var n=e.isValidMove,r=e.isOnTop,a=t.isOver(),o=t.getItem().rank,c=r(o),i=parseInt(t.targetId.substr(1))+1;return!(!a||!c)&&n(o,i)},drop:function(e,t){var n=e.removeDisk,r=e.insertDisk,a=t.getItem().rank,o=parseInt(t.targetId.substr(1))+1;n(a),r(a,o)},hover:function(){}},I=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disks,n=e.connectDropTarget,r=e.diskIsOverTower,o=e.diskDragged,c=r?"linear-gradient(\n          to bottom,\n          rgba(255, 204, 0, 1),\n          rgba(241, 91, 49, 0.9),\n          rgba(252,40, 93, 0.75),\n          rgba(0, 0, 0, 0.4)\n        )":"linear-gradient(\n          to bottom,\n          rgba(241, 91, 49, 0.9),\n          rgba(252,40, 93, 0.75),\n          rgba(0, 0, 0, 0.4)\n        )",i="calc((".concat(b.TOWER_WIDTH,") / 4)"),s={position:"relative",width:"100%",height:"calc(".concat(b.TOWER_HEIGHT,")"),borderStyle:"solid",borderWidth:"1px 1px 0px 1px",borderRadius:"".concat(i," ").concat(i," 0 0"),display:"grid",alignItems:"end",alignContent:"end",background:c};return n(a.a.createElement("div",{style:s},r&&a.a.createElement(D,{rank:o.rank}),t&&t.map(function(e){return a.a.createElement(T,{key:e.id,rank:e.id})})))}}]),t}(r.Component),O=Object(m.DropTarget)(k,h,function(e,t){return{connectDropTarget:e.dropTarget(),canDrop:t.canDrop(),diskIsOverTower:t.isOver(),diskDragged:t.getItem()}})(I),E=n(74),y=n.n(E),S=Object(m.DragDropContext)(y.a),_=function(){return a.a.createElement("div",{style:{borderBottom:"1px solid black"}})},H=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.towers,n=e.numMovesPlayed,r=e.removeDisk,o=e.insertDisk,c=e.isValidMove,i=e.isOnTop,s=e.gameIsWon,l=0;return a.a.createElement("div",{style:w},a.a.createElement(_,null),a.a.createElement(O,{key:t[l].id,disks:t[l++].disks,numMovesPlayed:n,removeDisk:function(e){return r(e)},insertDisk:function(e,t){return o(e,t)},isValidMove:function(e,t){return c(e,t)},isOnTop:function(e){return i(e)}}),a.a.createElement(_,null),a.a.createElement(O,{key:t[l].id,disks:t[l++].disks,numMovesPlayed:n,removeDisk:function(e){return r(e)},insertDisk:function(e,t){return o(e,t)},isValidMove:function(e,t){return c(e,t)},isOnTop:function(e){return i(e)},gameIsWon:function(){return s()}}),a.a.createElement(_,null),a.a.createElement(O,{key:t[l].id,disks:t[l++].disks,numMovesPlayed:n,removeDisk:function(e){return r(e)},insertDisk:function(e,t){return o(e,t)},isValidMove:function(e,t){return c(e,t)},isOnTop:function(e){return i(e)},gameIsWon:function(){return s()}}),a.a.createElement(_,null))}}]),t}(r.Component),w={height:"calc(".concat(b.SETTING_HEIGHT,")"),display:"grid",gridTemplateColumns:"\n    1fr \n    calc(".concat(b.TOWER_WIDTH,")\n    1.75fr\n    calc(").concat(b.TOWER_WIDTH,")\n    1.75fr\n    calc(").concat(b.TOWER_WIDTH,")\n    1fr\n  "),justifyContent:"stretch",alignItems:"end",overflow:"hidden"},j=S(H),M=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("header",{style:{paddingBottom:"0.5rem",display:"flex",justifyContent:"center",alignItems:"flex-end",background:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.2))",borderBottom:"1px solid black"}},a.a.createElement("h1",{style:{color:"rgba(229, 172, 0, 1)",fontSize:"calc(100vmin/12)",textTransform:"uppercase",fontWeight:"100",textShadow:"4px 4px 2px rgba(0, 0, 0, 1)"}},"Towers of Hanoi"))}}]),t}(r.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={color:"rgba(241, 91, 49, 1)",textDecoration:"none",fontWeight:"600",textShadow:"1.5px 1.5px 0px black"};return a.a.createElement("footer",{style:{padding:"0 0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",color:"white",fontSize:"1rem",background:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.8))"}},a.a.createElement("p",{style:{textTransform:"uppercase"}},a.a.createElement("a",{href:"https://github.com/simongt/towers-of-hanoi",target:"_blank",rel:"noopener noreferrer",style:e},a.a.createElement("i",{className:"fab fa-github",style:{marginRight:"0.25rem"}}),"GitHub")),a.a.createElement("p",{style:{textTransform:"uppercase"}},a.a.createElement("a",{href:"https://simongt.net",target:"_blank",rel:"noopener noreferrer",style:e},"// simongt . net")))}}]),t}(r.Component),x=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){for(var e=[],t=1;t<=b.NUM_DISKS;t++)e.push({id:t});n.setState({towers:[{id:1,disks:e},{id:2,disks:[]},{id:3,disks:[]}]})},n.componentDidUpdate=function(){var e=n.state.numMovesPlayed;n.gameIsWon()&&console.log("Game has been won in ".concat(e," moves."))},n.removeDisk=function(e){var t=null;return n.setState(function(n){return n.towers.forEach(function(n){n.disks=n.disks.filter(function(r){return r.id!==e||(t=n.id,!1)})}),{towers:n.towers}}),t},n.insertDisk=function(e,t){n.setState(function(n){return{towers:n.towers.map(function(n){return n.id===t&&n.disks.unshift({id:e}),n}),numMovesPlayed:n.numMovesPlayed+1}})},n.isValidMove=function(e,t){var r=n.state.towers;return 0===r[t-1].disks.length||(e<r[t-1].disks[0].id||!(e>r[t-1].disks[0].id)&&(e!==r[t-1].disks[0].id&&void 0))},n.isOnTop=function(e){var t=n.state.towers,r=!1;return t.forEach(function(t){0!==t.disks.length&&t.disks[0].id===e&&(r=!0)}),r},n.gameIsWon=function(){var e=n.state.towers;return b.NUM_DISKS>=3&&(e[1].disks.length===b.NUM_DISKS||e[2].disks.length===b.NUM_DISKS)},n.state={numMovesPlayed:0,towers:[{id:1,disks:[]},{id:2,disks:[]},{id:3,disks:[]}]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:R},a.a.createElement(M,null),a.a.createElement(j,{towers:this.state.towers,numMovesPlayed:this.state.numMovesPlayed,removeDisk:this.removeDisk,insertDisk:this.insertDisk,isValidMove:this.isValidMove,isOnTop:this.isOnTop,gameIsWon:this.gameIsWon}),a.a.createElement(W,null))}}]),t}(r.Component),R={display:"grid",gridTemplateRows:"\n    calc(".concat(b.HEADER_HEIGHT,")\n    calc(").concat(b.SETTING_HEIGHT,")\n    ").concat(b.FOOTER_HEIGHT,"\n  "),overflow:"hidden"},K=x,G=(n(210),document.getElementById("root"));c.a.render(a.a.createElement(K,null),G)},75:function(e,t,n){e.exports=n(211)}},[[75,1,2]]]);
//# sourceMappingURL=main.82ce8b8b.chunk.js.map